<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Přehrávání Spotify</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #40E0D0; /* Tyrkysová barva */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            font-family: Arial, sans-serif;
        }

        button {
            margin: 10px;
            padding: 15px 30px;
            font-size: 18px;
            background-color: #ffffff;
            border: 2px solid #000;
            cursor: pointer;
        }

        button:hover {
            background-color: #f0f0f0;
        }

    </style>
</head>
<body>

    <button id="startBtn">Start</button>
    <button id="stopBtn">Stop</button>

    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <script>
        window.onSpotifyWebPlaybackSDKReady = () => {
            const token = 'BQB0Q63lTvy3y5zA6pWAaFwDFnPAEMBReidwpksA2mjftRMBMlYSX-DW9LX7opQ_9cpm856dMx5jwVqmzzkdAJLZSyl3QHSRpJ5w9pGwckrG1adXKSY'; // Sem vlož svůj OAuth token

            const player = new Spotify.Player({
                name: 'Web Player',
                getOAuthToken: cb => { cb(token); },
                volume: 0.5
            });

            // Připojení přehrávače
            player.connect();

            // Poslouchání událostí přehrávače
            player.addListener('ready', ({ device_id }) => {
                console.log('Zařízení je připraveno:', device_id);

                // Funkce pro spuštění playlistu
                const startPlayback = () => {
                    fetch(`https://api.spotify.com/v1/me/player/play?device_id=${device_id}`, {
                        method: 'PUT',
                        body: JSON.stringify({ context_uri: 'spotify:playlist:1LEA4MQGWI7iJ2wOj6mX6e?' }), // Zadej zde správný track nebo playlist
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                    });
                };

                // Funkce pro pozastavení přehrávání
                const stopPlayback = () => {
                    fetch(`https://api.spotify.com/v1/me/player/pause?device_id=${device_id}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                    });
                };

                // Přiřazení akcí tlačítkům
                document.getElementById('startBtn').addEventListener('click', startPlayback);
                document.getElementById('stopBtn').addEventListener('click', stopPlayback);
            });

            player.addListener('not_ready', ({ device_id }) => {
                console.log('Zařízení není připraveno:', device_id);
            });
        };
    </script>

</body>
</html>
